---
title: 'Extract File'
openapi: 'POST /extract'
---

import ExtractDocumentSource from '/snippets/extract-document-source.mdx';
import ExtractOptions from '/snippets/extract-options.mdx';
import ExtractStorageOptions from '/snippets/extract-storage-options.mdx';
import ExtractDeprecatedFields from '/snippets/extract-deprecated-fields.mdx';

## Overview

Synchronously extract content from documents. Best for files under 50 pages. Returns markdown or HTML formatted content with optional structured data extraction.

For documents over 70 pages, results are returned via S3 URL.

<Note>
  For large documents or batch processing workflows, consider using the [/extract_async](/api-reference/endpoint/extract_async) endpoint to avoid timeout issues.
</Note>

## Request

<ExtractDocumentSource />

<ExtractOptions />

<ExtractStorageOptions />

<ExtractDeprecatedFields />

## Response

The response structure varies based on document size to optimize for different use cases.

### Standard Response (Under 70 Pages)

For documents under 70 pages, results are returned directly in the response body:

```json
{
  "markdown": "# Document Title\n\nExtracted content...",
  "page_count": 15,
  "job_id": "abc123-def456-ghi789",
  "plan-info": {
    "pages_used": 15,
    "tier": "standard",
    "note": "Pulse Ultra"
  },
  "bounding_boxes": {
    "Title": [...],
    "Paragraphs": [...],
    "Tables": [...],
    "Images": [...],
    "markdown_with_ids": "<p data-bb-text-id=\"txt-1\">..."
  },
  "extraction_url": "https://platform.runpulse.com/dashboard/extractions/abc123"
}
```

#### Response Fields

| Field | Type | Description |
|-------|------|-------------|
| `markdown` | string | Clean markdown content extracted from the document. |
| `page_count` | integer | Total number of pages processed. |
| `job_id` | string | Unique identifier for the extraction job. |
| `plan-info` | object | Billing information including pages used and plan tier. |
| `bounding_boxes` | object | Detailed bounding box data for document elements. See [Bounding Boxes](/api-reference/bounding-boxes) for details. |
| `extraction_url` | string | URL to view the extraction in the Pulse Platform (when storage is enabled). |
| `html` | string | HTML representation of the document (when `return_html` is `true`). |
| `structured_output` | object | Extracted data matching your schema (when `structured_output` is provided). |
| `chunks` | array | Document chunks (when `chunking` is enabled). |
| `figures` | array | Extracted figures (when `extract_figure` is `true`). |

### Large Document Response (70+ Pages)

For documents with 70 or more pages, the API returns a URL to fetch the complete results. This prevents timeout issues and reduces response payload size.

```json
{
  "is_url": true,
  "url": "https://pulse-studio-api.s3.amazonaws.com/results/abc123.json",
  "plan-info": {
    "pages_used": 150,
    "tier": "standard"
  }
}
```

#### Large Document Response Fields

| Field | Type | Description |
|-------|------|-------------|
| `is_url` | boolean | Always `true` for large document responses. Use this to detect URL-based responses. |
| `url` | string | Pre-signed S3 URL containing the complete extraction results. Expires after 24 hours. |
| `plan-info` | object | Billing information including pages used and plan tier. |

#### Handling Large Document Responses

<CodeGroup>

```python Python
from pulse import Pulse

client = Pulse(api_key="YOUR_API_KEY")

# The SDK handles large document responses automatically
response = client.extract(
    file_url="https://www.impact-bank.com/user/file/dummy_statement.pdf"
)

# If the response contains is_url, fetch from S3
if hasattr(response, 'is_url') and response.is_url:
    import requests
    full_result = requests.get(response.url).json()
    print(full_result["markdown"])
else:
    print(response.content)
```

```typescript TypeScript
import { PulseClient } from 'pulse-ts-sdk';

const client = new PulseClient({ 
    headers: { 'x-api-key': 'YOUR_API_KEY' }
});

const response = await client.extract({
    fileUrl: "https://www.impact-bank.com/user/file/dummy_statement.pdf"
});

// Check if response is a URL reference
if ((response as any).is_url) {
    const fullResult = await fetch((response as any).url).then(r => r.json());
    console.log(fullResult.markdown);
} else {
    console.log(response.content);
}
```

```bash curl
# For large documents, the response contains a URL
curl -X POST https://dev.api.runpulse.com/extract \
  -H "x-api-key: YOUR_API_KEY" \
  -F "file=@large_document.pdf"

# Response: {"is_url": true, "url": "https://...s3.amazonaws.com/..."}

# Fetch the actual content
curl "https://...s3.amazonaws.com/..."
```

</CodeGroup>

<Note>
  The S3 URL expires after 24 hours. If you need to access results after this period, ensure `storage.enabled` is `true` and retrieve results from your extraction library.
</Note>

## Example Usage

### Basic Extraction

<CodeGroup>

```python Python
from pulse import Pulse

client = Pulse(api_key="YOUR_API_KEY")

# Extract from URL
response = client.extract(
    file_url="https://www.impact-bank.com/user/file/dummy_statement.pdf",
    extract_figure=True,
    return_html=True
)

print(f"Content: {response.content}")
print(f"Job ID: {response.job_id}")
```

```typescript TypeScript
import { PulseClient } from 'pulse-ts-sdk';

const client = new PulseClient({ 
    headers: { 'x-api-key': 'YOUR_API_KEY' }
});

const response = await client.extract({
    fileUrl: "https://www.impact-bank.com/user/file/dummy_statement.pdf",
    extractFigure: true,
    returnHtml: true
});

console.log(`Content: ${response.content}`);
console.log(`Job ID: ${response.job_id}`);
```

```bash curl
# Extract from URL
curl -X POST https://dev.api.runpulse.com/extract \
  -H "x-api-key: YOUR_API_KEY" \
  -H "Content-Type: application/json" \
  -d '{"file_url": "https://www.impact-bank.com/user/file/dummy_statement.pdf"}'
```

</CodeGroup>

### File Upload

<CodeGroup>

```python Python
# Upload and extract a local file
with open("document.pdf", "rb") as f:
    response = client.extract(
        file=f,
        extract_figure=True
    )
```

```typescript TypeScript
import * as fs from 'fs';

const fileBuffer = fs.readFileSync("document.pdf");
const blob = new Blob([fileBuffer], { type: 'application/pdf' });

const response = await client.extract({
    file: blob,
    extractFigure: true
});
```

```bash curl
curl -X POST https://dev.api.runpulse.com/extract \
  -H "x-api-key: YOUR_API_KEY" \
  -F "file=@document.pdf"
```

</CodeGroup>

### Structured Output

<CodeGroup>

```python Python
schema = {
    "type": "object",
    "properties": {
        "total": {"type": "number"},
        "vendor": {"type": "string"}
    }
}

response = client.extract(
    file_url="https://www.impact-bank.com/user/file/dummy_statement.pdf",
    structured_output={
        "schema": schema,
        "schema_prompt": "Extract invoice total and vendor"
    }
)
```

```typescript TypeScript
const response = await client.extract({
    fileUrl: "https://www.impact-bank.com/user/file/dummy_statement.pdf",
    structuredOutput: {
        schema: {
            type: "object",
            properties: {
                total: { type: "number" },
                vendor: { type: "string" }
            }
        },
        schemaPrompt: "Extract invoice total and vendor"
    }
});
```

```bash curl
curl -X POST https://dev.api.runpulse.com/extract \
  -H "x-api-key: YOUR_API_KEY" \
  -F "file=@invoice.pdf" \
  -F 'structured_output={"schema": {"type": "object", "properties": {"total": {"type": "number"}, "vendor": {"type": "string"}}}, "schema_prompt": "Extract the invoice total and vendor name"}'
```

</CodeGroup>

### Page Range and Chunking

<CodeGroup>

```python Python
response = client.extract(
    file_url="https://www.impact-bank.com/user/file/dummy_statement.pdf",
    pages="1-5,10",  # 1-indexed
    chunking="semantic,page",
    chunk_size=1000
)
```

```typescript TypeScript
const response = await client.extract({
    fileUrl: "https://www.impact-bank.com/user/file/dummy_statement.pdf",
    pages: "1-5,10",  // 1-indexed
    chunking: "semantic,page",
    chunkSize: 1000
});
```

```bash curl
curl -X POST https://dev.api.runpulse.com/extract \
  -H "x-api-key: YOUR_API_KEY" \
  -F "file=@document.pdf" \
  -F "pages=1-5,10" \
  -F "chunking=semantic,page" \
  -F "chunk_size=1000"
```

</CodeGroup>

### Disable Storage

<CodeGroup>

```python Python
response = client.extract(
    file_url="https://www.impact-bank.com/user/file/dummy_statement.pdf",
    storage={"enabled": False}
)
```

```typescript TypeScript
const response = await client.extract({
    fileUrl: "https://www.impact-bank.com/user/file/dummy_statement.pdf",
    storage: { enabled: false }
});
```

```bash curl
curl -X POST https://dev.api.runpulse.com/extract \
  -H "x-api-key: YOUR_API_KEY" \
  -F "file=@document.pdf" \
  -F 'storage={"enabled": false}'
```

</CodeGroup>
